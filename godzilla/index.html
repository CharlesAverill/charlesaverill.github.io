<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Godzilla Collection</title>
  <link rel="icon" type="image/x-icon" href="/godzilla/favicon.ico">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      background-color: #111;
      color: #eee;
      font-family: Arial, sans-serif;
      display: flex;
    }

    .sidebar {
      width: 20%;
      background: #111;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px 0;
      gap: 10px;
      overflow-y: auto;
    }

    .sidebar img {
      width: 80%;
      aspect-ratio: 6 / 8;
      border: 2px solid #444;
      border-radius: 4px;
    }

    .content {
      flex-grow: 1;
      padding: 30px;
      overflow-x: visible;
    }

    h2 {
      text-align: center;
      margin-top: 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th, td {
      border: 1px solid #333;
      padding: 10px;
      text-align: left;
    }

    th {
      background-color: #222;
    }

    td a {
      color: #7ecfff;
      text-decoration: none;
      position: relative;
    }

    td:hover > a::after {
      content: "";
      position: absolute;
      top: -10px;
      left: 200%;
      width: 200px;
      aspect-ratio: 6 / 8;
      overflow: visible;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      border: 2px solid #fff;
      background-image: var(--poster-image);
      z-index: 10;
    }

    .era-heading {
      background-color: #333;
      color: #fff;
      font-size: 1.2em;
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- Left Sidebar -->
  <div class="sidebar">
  </div>

  <!-- Main Content -->
  <div class="content">
    <h2>Godzilla Film Library</h2>
    <table>
      <thead>
        <tr>
          <th>Year</th>
          <th>Title</th>
        </tr>
      </thead>
      <tbody>
        <!-- Showa Era -->
        <tr class="era-heading"><td colspan="2">Showa Era (1954â€“1975)</td></tr>
        <tr><td>1954</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_1954.mp4" style="--poster-image: url('/godzilla/godzilla_1954.jpg');">Godzilla</a></td></tr>
        <tr><td>1955</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_raids_again_1955.mp4" style="--poster-image: url('/godzilla/godzilla_raids_again_1955.jpg');">Godzilla Raids Again</a></td></tr>
        <tr><td>1963</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/king_kong_vs_godzilla_1963.mp4" style="--poster-image: url('/godzilla/king_kong_vs_godzilla.jpg');">King Kong vs. Godzilla</a></td></tr>
        <tr><td>1964</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/mothra_vs_godzilla_1964.mp4" style="--poster-image: url('/godzilla/mothra_vs_godzilla.jpg');">Mothra vs. Godzilla</a></td></tr>
        <tr><td>1964</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/ghidorah_the_three_headed_monster_1964.mp4" style="--poster-image: url('/godzilla/ghidorah_1964.jpg');">Ghidorah, The Three-Headed Monster</a></td></tr>
        <tr><td>1965</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/invasion_of_astro_monster_1965.mp4" style="--poster-image: url('/godzilla/astro_monster.jpg');">Invasion of Astro-Monster</a></td></tr>
        <tr><td>1966</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/ebirah_horror_of_the_deep_1966.mp4" style="--poster-image: url('/godzilla/ebirah.jpg');">Ebirah, Horror of the Deep</a></td></tr>
        <tr><td>1967</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/son_of_godzilla_1967.mp4" style="--poster-image: url('/godzilla/son_of_godzilla.jpg');">Son of Godzilla</a></td></tr>
        <tr><td>1968</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/destroy_all_monsters_1968.mp4" style="--poster-image: url('/godzilla/destroy_all_monsters.jpg');">Destroy All Monsters</a></td></tr>
        <tr><td>1969</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/all_monsters_attack_1969.mp4" style="--poster-image: url('/godzilla/all_monsters_attack.jpg');">All Monsters Attack</a></td></tr>
        <tr><td>1971</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_vs_hedorah_1971.mp4" style="--poster-image: url('/godzilla/godzilla_vs_hedorah.jpg');">Godzilla vs. Hedorah</a></td></tr>
        <tr><td>1972</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_vs_gigan_1972.mp4" style="--poster-image: url('/godzilla/godzilla_vs_gigan.jpg');">Godzilla vs. Gigan</a></td></tr>
        <tr><td>1973</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_vs_megalon_1973.mp4" style="--poster-image: url('/godzilla/godzilla_vs_megalon.jpg');">Godzilla vs. Megalon</a></td></tr>
        <tr><td>1974</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_vs_mechagodzilla_1974.mp4" style="--poster-image: url('/godzilla/godzilla_vs_mechagodzilla.jpg');">Godzilla vs. Mechagodzilla</a></td></tr>
        <tr><td>1975</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/terror_of_mechagodzilla_1975.mp4" style="--poster-image: url('/godzilla/terror_of_mechagodzilla.jpg');">Terror of Mechagodzilla</a></td></tr>

        <!-- Heisei Era -->
        <tr class="era-heading"><td colspan="2">Heisei Era (1984â€“1995)</td></tr>
        <tr><td>1985</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_1985.mp4" style="--poster-image: url('/godzilla/godzilla_1985.jpg');">Godzilla (1985)</a></td></tr>
        <tr><td>1989</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_vs_biollante.mp4" style="--poster-image: url('/godzilla/godzilla_vs_biollante.jpg');">Godzilla vs. Biollante</a></td></tr>
        <tr><td>1991</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_vs_king_ghidorah_1991.mp4" style="--poster-image: url('/godzilla/godzilla_vs_king_ghidorah.jpg');">Godzilla vs. King Ghidorah</a></td></tr>
        <tr><td>1992</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_and_mothra_battle_for_earth_1992.mp4" style="--poster-image: url('/godzilla/battle_for_earth.jpg');">Godzilla and Mothra: The Battle for Earth</a></td></tr>
        <tr><td>1993</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_vs_mechagodzilla_2.mp4" style="--poster-image: url('/godzilla/godzilla_vs_mechagodzilla_ii.jpg');">Godzilla vs. Mechagodzilla II</a></td></tr>
        <tr><td>1994</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_vs_space_godzilla_1994.mp4" style="--poster-image: url('/godzilla/godzilla_vs_spacegodzilla.jpg');">Godzilla vs. SpaceGodzilla</a></td></tr>
        <tr><td>1995</td><td><a href="#" style="--poster-image: url('/godzilla/godzilla_vs_destoroyah.jpg');">Godzilla vs. Destoroyah (Missing ðŸ˜¢)</a></td></tr>

        <!-- Millennium Era -->
        <tr class="era-heading"><td colspan="2">Millennium Era (1999â€“2004)</td></tr>
        <tr><td>1999</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_2000_1999.mp4" style="--poster-image: url('/godzilla/godzilla_2000_millennium.jpg');">Godzilla 2000: Millennium</a></td></tr>
        <tr><td>2000</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_vs_megaguirus_2000.mp4" style="--poster-image: url('/godzilla/godzilla_vs_megaguirus.jpg');">Godzilla vs. Megaguirus</a></td></tr>
        <tr><td>2001</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/giant_monsters_all_out_attack_2001.mp4" style="--poster-image: url('/godzilla/gmk_giant_monsters_attack.jpeg');">GMK: Giant Monsters All-Out Attack</a></td></tr>
        <tr><td>2002</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_against_mechagodzilla_2002.mp4" style="--poster-image: url('/godzilla/godzilla_vs_mechagodzilla_2002.jpg');">Godzilla Against Mechagodzilla</a></td></tr>
        <tr><td>2003</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_tokyo_sos_2003.mp4" style="--poster-image: url('/godzilla/tokyo_sos.jpg');">Godzilla: Tokyo S.O.S.</a></td></tr>
        <tr><td>2004</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_final_wars_2004.mp4" style="--poster-image: url('/godzilla/godzilla_final_wars.jpg');">Godzilla: Final Wars</a></td></tr>

        <!-- American Films -->
        <tr class="era-heading"><td colspan="2">Non-Toho American Films</td></tr>
        <tr><td>1998</td><td><a href="https://caseashell.sfo2.cdn.digitaloceanspaces.com/Godzilla/godzilla_1998.mp4" style="--poster-image: url('/godzilla/godzilla_1998.jpg');">Godzilla (1998)</a></td></tr>
      </tbody>
    </table>
  </div>

  <!-- Right Sidebar -->
  <div class="sidebar">
  </div>

<script>
  // List of available poster image URLs
  const posterImages = [
    "/godzilla/godzilla_1954.jpg",
    "/godzilla/godzilla_raids_again_1955.jpg",
    "/godzilla/king_kong_vs_godzilla.jpg",
    "/godzilla/mothra_vs_godzilla.jpg",
    "/godzilla/ghidorah_1964.jpg",
    "/godzilla/astro_monster.jpg",
    "/godzilla/ebirah.jpg",
    "/godzilla/son_of_godzilla.jpg",
    "/godzilla/destroy_all_monsters.jpg",
    "/godzilla/all_monsters_attack.jpg",
    "/godzilla/godzilla_vs_hedorah.jpg",
    "/godzilla/godzilla_vs_gigan.jpg",
    "/godzilla/godzilla_vs_megalon.jpg",
    "/godzilla/godzilla_vs_mechagodzilla.jpg",
    "/godzilla/terror_of_mechagodzilla.jpg",
    "/godzilla/godzilla_1985.jpg",
    "/godzilla/godzilla_vs_biollante.jpg",
    "/godzilla/godzilla_vs_king_ghidorah.jpg",
    "/godzilla/battle_for_earth.jpg",
    "/godzilla/godzilla_vs_mechagodzilla_ii.jpg",
    "/godzilla/godzilla_vs_spacegodzilla.jpg",
    "/godzilla/godzilla_vs_destoroyah.jpg",
    "/godzilla/godzilla_2000_millennium.jpg",
    "/godzilla/godzilla_vs_megaguirus.jpg",
    "/godzilla/gmk_giant_monsters_attack.jpeg",
    "/godzilla/godzilla_vs_mechagodzilla_2002.jpg",
    "/godzilla/tokyo_sos.jpg",
    "/godzilla/godzilla_final_wars.jpg",
    "/godzilla/godzilla_1998.jpg",
    "/godzilla/king_of_monsters_comic.png"
  ];

  // Simple seeded PRNG (Mulberry32)
  function mulberry32(seed) {
    return function() {
      let t = seed += 0x6D2B79F5;
      t = Math.imul(t ^ (t >>> 15), t | 1);
      t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
      return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
    }
  }

  // Global variables
  let prng;
  let imageSequence = [];

  // Generate a large sequence of image indexes based on seed
  function generateImageSequence(length) {
    let seq = [];
    for (let i = 0; i < length; i++) {
      const idx = Math.floor(prng() * posterImages.length);
      seq.push(idx);
    }
    return seq;
  }

  function fillSidebar(sidebar, neededCount, startIndex = 0) {
    const currentCount = sidebar.children.length;
    
    if (neededCount > currentCount) {
      // Add more images
      for (let i = currentCount; i < neededCount; i++) {
        const img = document.createElement('img');
        img.src = posterImages[imageSequence[startIndex + i]];
        sidebar.appendChild(img);
      }
    } else if (neededCount < currentCount) {
      console.log("removing");
      // Remove extra images
      for (let i = currentCount - 1; i >= neededCount; i--) {
        sidebar.removeChild(sidebar.children[i]);
      }
    }
  }

  // Wait for images to load first to get height
  function getImageHeight(sidebar) {
    return new Promise((resolve) => {
      const testImg = document.createElement('img');
      testImg.src = posterImages[0];
      testImg.style.visibility = 'hidden';
      sidebar.appendChild(testImg);
      testImg.onload = () => {
        const height = testImg.offsetHeight;
        sidebar.removeChild(testImg);
        resolve(height);
      };
    });
  }

  async function updateSidebars() {
    const sidebars = document.querySelectorAll('.sidebar');
    if (sidebars.length === 0) return;

    const sidebarHeight = sidebars[0].offsetHeight;
    const imgHeight = await getImageHeight(sidebars[0]);
    const neededCount = Math.min(Math.ceil(sidebarHeight / (imgHeight * 1.2)), posterImages.length);

    fillSidebar(sidebars[0], neededCount);
    fillSidebar(sidebars[1], neededCount, neededCount);
  }

  window.addEventListener('load', async () => {
    // Seed with current time or fixed number
    const seed = Date.now() & 0xffffffff;
    prng = mulberry32(seed);

    // Generate a long enough sequence for max expected images
    imageSequence = generateImageSequence(100);

    await updateSidebars();
  });

  window.addEventListener('resize', () => {
    updateSidebars();
  });
</script>


</body>
</html>
